;/*FB_PKG_DELIM*/

__d("IGDLeftGroupComposerBlockOffMsys.react",["fbt","IGDGenericComposerBlock.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"You can't message this group"),e[0]=t):t=e[0];var n=t,a;if(e[1]===Symbol.for("react.memo_cache_sentinel")){var i=s._(/*BTDS*/"You're no longer in this group and can't send or receive calls or messages unless you are added back to it.");a=u.jsx(r("IGDGenericComposerBlock.react"),{header:n,label:i}),e[1]=a}else a=e[1];return a}l.default=c}),226);
__d("ZenonMWThriftSendMessageMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9720271894689175"}),null);
__d("ZenonMWThriftSendMessageMutation.graphql",["ZenonMWThriftSendMessageMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtcWebSendMultiwayThriftSignalingMessageResponsePayload",kind:"LinkedField",name:"rtc_web_send_multiway_thrift_signaling_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"response",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ZenonMWThriftSendMessageMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ZenonMWThriftSendMessageMutation",selections:t},params:{id:n("ZenonMWThriftSendMessageMutation_facebookRelayOperation"),metadata:{},name:"ZenonMWThriftSendMessageMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("ZenonMWThriftSendMessageMutation",["CometRelayErrorHandling","Promise","RequestStreamBodyUtils","ZenonMWThriftMessageSerializer","ZenonMWThriftSendMessageMutation.graphql","asyncToGeneratorRuntime","cr:1012418","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,i){return new(s||(s=n("Promise")))(function(l,s){n("cr:1012418").commitMutation(i,{mutation:e!==void 0?e:e=n("ZenonMWThriftSendMessageMutation.graphql"),onCompleted:function(t){return l(t)},onError:function(t){return r("gkx")("20935")&&o("CometRelayErrorHandling").markErrorAsHandled(t),s(t)},variables:{input:{endpoint:JSON.stringify(t),message:o("RequestStreamBodyUtils").uint8ArrayToBase64(o("ZenonMWThriftMessageSerializer").serializeMWThriftMessage(a,!0))}}})})}function c(e){var t=e.rtc_web_send_multiway_thrift_signaling_message;if(t!=null&&t.response!=null){var n=o("RequestStreamBodyUtils").base64ToUint8Array(t.response),r=o("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(n,!0),a=r.messageBody,i=r.messageHeader;return{body:a,header:i}}return{body:null,header:null}}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield u(e,t,n);return c(r)}),m.apply(this,arguments)}l.sendMessage=d}),98);
__d("ZenonMWTranslatorUtils",["CurrentUser","IGDWebUtils","RpWebMqttEnabledAppIds.experimental"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set(r("RpWebMqttEnabledAppIds.experimental").APP_IDS),s="signalingDominantSpeakerUpdate",u="signalingVideoUploadUpdate";function c(){var t=r("CurrentUser").getAppID();if(t!=null&&o("IGDWebUtils").isInstagramWebSupportedApp(Number(t)))return t;var n=t!=null?t:0xc815778a650a.toString();return e.has(Number(n))?n:0xc815778a650a.toString()}function d(e){var t,n=(t=e.message.body)!=null?t:{},r=n.dominantSpeakerSignalingInfo,o=n.genericMessage,a=n.videoUploadSignalingInfo;return o?o.topic:r?s:a?u:null}l.getMWAppID=c,l.getGenericDataMessageTopic=d}),98);
__d("ZenonGraphQLMWThriftMessageSender",["ChannelClientID","FBLogger","MultiwayCommonTypes","Promise","RpZenonBinaryThriftSignalingSitevarConfig.experimental","ZenonActorHooks","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageLogger","ZenonMWThriftMessageMap","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageTranslator","ZenonMWThriftSendMessageMutation","ZenonMWTranslatorUtils","ZenonValidateMWThriftMessage","asyncToGeneratorRuntime","err","filterNulls","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$3=e;var t=r("RpZenonBinaryThriftSignalingSitevarConfig.experimental").supported_message_types_mqtt.map(function(e){return o("ZenonMWThriftMessageMap").messageTypeFromString(e)});this.$4=new Set(r("filterNulls")(t))}var a=t.prototype;return a.handleResponse=function(t){var e=this.$1;if(e==null)throw r("FBLogger")("rtc_www").mustfixThrow("Should never have null message receiver");var n=t.header||null,a=t.body||null;if(n!=null&&a!=null){var i={messageBody:a,messageHeader:n};r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","GraphQL Thrift",i),o("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(i),this.$2&&this.$2({mwThriftMessage:i,name:"mwThriftMessageRecv"});var l=o("ZenonMWThriftMessageTranslator").toSignalingMessage(i);if(l==null)return;e(l),o("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(i)}},a.$5=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){o("ZenonMWThriftMessageReliabilityLogger").logSendingMessage(t),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("SENDING","GraphQL Thrift",t),this.$2&&o("ZenonMWThriftMessageLogger").logSentMessage(t,this.$2);try{var n=yield o("ZenonMWThriftSendMessageMutation").sendMessage(e,t,this.$3);o("ZenonMWThriftMessageReliabilityLogger").logSentMessage(t),this.$2&&this.$2({mwThriftMessage:t,name:"mwThriftMessageSent"}),this.handleResponse(n)}catch(e){var a=r("getErrorSafe")(e),i=a.message||"Message Send Error";o("ZenonMWThriftMessageReliabilityLogger").logSendMessageFailed(t,"[GraphQL Thrift] "+i);var l=o("ZenonMWThriftMessageMap").messageTypeToString(t.messageHeader.type);r("ZenonMWThriftMessageDebugLogger").logSendMultiwayThriftMessageFailure(i,l,a)}});function t(t,n){return e.apply(this,arguments)}return t})(),a.sendMessage=function(a){var t=o("ZenonMWThriftMessageTranslator").toMWThriftMessage(a);if(!t||!r("ZenonValidateMWThriftMessage")(t))return(e||(e=n("Promise"))).reject(r("err")("Invalid MW Thrift message"));if(t.messageHeader.type!=null&&!this.$4.has(t.messageHeader.type))return(e||(e=n("Promise"))).resolve();var i=t.messageHeader.type,l={appId:o("ZenonMWTranslatorUtils").getMWAppID(),deviceId:r("ChannelClientID").getID(),userId:a.getHeader().userInfo.userID};return l.userId!==o("ZenonActorHooks").ZenonActor.getAccountID()||i!==o("MultiwayCommonTypes").MessageType.DATA_MESSAGE?this.$5(l,t):(e||(e=n("Promise"))).reject(r("err")("GraphQL only sends DATA_MESSAGE for Page users"))},a.setMessageReceiver=function(t){this.$1=t},a.setLoggingEventHandler=function(t){this.$2=t},t})();l.default=s}),98);